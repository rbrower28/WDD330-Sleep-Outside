var o=(i,e,r)=>new Promise((n,s)=>{var d=t=>{try{a(r.next(t))}catch(c){s(c)}},m=t=>{try{a(r.throw(t))}catch(c){s(c)}},a=t=>t.done?n(t.value):Promise.resolve(t.value).then(d,m);a((r=r.apply(i,e)).next())});import{renderListWithTemplate as h}from"./utils.js";export default class u{constructor(e,r,n){this.category=e,this.element=n,this.dataSrc=r}init(){return o(this,null,function*(){const e=yield this.dataSrc.getData(this.category);this.renderList(e)})}doTemplate(e,r){return e.querySelector("a").href+=r.Id,e.querySelector("img").src=r.Images.PrimaryMedium,e.querySelector("img").alt+=r.Name,e.querySelector(".card__brand").innerHTML=r.Brand.Name,e.querySelector(".card__name").innerHTML=r.NameWithoutBrand,e.querySelector(".product-card__price").innerHTML+=r.FinalPrice,e}renderList(e){this.element.innerHTML="",l(e,4);const r=document.getElementById("product-card-template");h(r,this.element,e,this.doTemplate)}}function l(i,e){return i.length>e&&(i.length=e),i}
